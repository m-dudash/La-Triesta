<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:replace="fragments/header :: head('La Triesta - Pizzeria')"></head>
<body>
<div th:replace="fragments/header :: siteHeader"></div>

<main class="container py-5">
    <style>
        :root { --red: #eedcc3; --green:#1b9a59; --cream:#fff7eb; }
        body {
            background: radial-gradient(circle at 20% 20%, rgba(215,38,61,0.12) 0, transparent 35%),
            radial-gradient(circle at 80% 10%, rgba(27,154,89,0.12) 0, transparent 32%),
            #fdfcfb;
            color:#1f1f1f;
        }
        .hero { background: linear-gradient(135deg, rgba(215,38,61,0.1), rgba(27,154,89,0.15)); border-radius:24px; padding:64px 48px; position:relative; overflow:hidden; }
        .hero::after { content:""; position:absolute; inset:0; background-image:url("https://images.unsplash.com/photo-1542281286-9e0a16bb7366?auto=format&fit=crop&w=1600&q=80"); opacity:0.12; background-size:cover; background-position:center; filter:blur(1px); }
        .hero-content { position:relative; z-index:1; }
        .badge-flag { display:inline-flex; align-items:center; gap:8px; background:#fff; border:1px solid rgba(0,0,0,0.05); padding:8px 14px; border-radius:999px; font-weight:600; color:#1b4332; box-shadow:0 4px 14px rgba(0,0,0,0.06); }
        .badge-flag span { width:14px; height:14px; border-radius:50%; }
        .feature-card { border:none; border-radius:16px; box-shadow:0 16px 40px rgba(0,0,0,0.08); transition:transform .15s ease, box-shadow .15s ease; background:#fff; }
        .feature-card:hover { transform:translateY(-4px); box-shadow:0 20px 50px rgba(0,0,0,0.12); }
        .step { display:flex; gap:12px; align-items:center; }
        .step .num { width:40px; height:40px; border-radius:50%; display:grid; place-items:center; background:var(--green); color:#fff; font-weight:700; }
        .cta-btn { background:var(--red); border:none; color:#fff; padding:14px 22px; border-radius:12px; font-weight:700; box-shadow:0 12px 30px rgba(215,38,61,0.35); }
        .cta-btn:hover { background: #ee435c; }
        .top-card-link { text-decoration:none; color:inherit; }
        .top-card { border:none; border-radius:16px; box-shadow:0 14px 34px rgba(0,0,0,0.08); overflow:hidden; background:#fff; display:flex; flex-direction:column; height:100%; transition:transform .15s ease, box-shadow .15s ease; }
        .top-card:hover { transform:translateY(-3px); box-shadow:0 18px 46px rgba(0,0,0,0.12); }
        .top-card img { height:200px; object-fit:cover; }
    </style>

    <div class="hero mb-5">
        <div class="hero-content row align-items-center gy-4">
            <div class="col-lg-6">
                <span class="badge-flag mb-3">
                    <span style="background:#009246"></span>
                    <span style="background:#fff;border:1px solid #e0e0e0"></span>
                    <span style="background:#ce2b37"></span>
                    Pravá talianska pizza
                </span>
                <h1 class="display-4 fw-bold mb-3 text-dark">Vitajte v La Triesta!</h1>
                <p class="lead mb-4">Chrumkavé cesto, poctivé suroviny a receptúry priamo z talianskych uličiek.</p>
                <div class="d-flex flex-wrap gap-2">
                    <a href="/menu"
                       class="btn"
                       style="
       background:#ee435c;
       color:#000;
       padding:14px 22px;
       border-radius:12px;
       font-weight:700;
       box-shadow:0 12px 30px rgba(215,38,61,0.35);
       transition:background 0.25s ease;
   "
                       onmouseover="this.style.background='#eedcc3';"
                       onmouseout="this.style.background='#ee435c';"
                    >
                        Zobraziť menu
                    </a>

                </div>
                <div class="mt-4 d-flex flex-column gap-3">
                    <div class="step">
                        <span class="num">1</span>
                        <div><div class="fw-semibold">Vyberte si pizzu</div><small class="text-muted">Filtrovanie podľa názvu alebo tagov.</small></div>
                    </div>
                    <div class="step">
                        <span class="num">2</span>
                        <div><div class="fw-semibold">Pridajte do košíka</div><small class="text-muted">Zvoľte veľkosť, množstvo a odošlite objednávku.</small></div>
                    </div>
                    <div class="step">
                        <span class="num">3</span>
                        <div><div class="fw-semibold">Sledujte stav</div><small class="text-muted">Notifikácie pre kuchára, kuriéra aj správu.</small></div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6 text-center">
                <img src="https://png.pngtree.com/png-vector/20241211/ourmid/pngtree-authentic-italian-pizza-with-cheese-and-fresh-vegetable-toppings-png-image_14714611.png"
                     class="img-fluid" alt="Pizza">
            </div>
        </div>
    </div>

    <div class="row g-4 mb-5">
        <div class="col-md-4">
            <div class="feature-card p-4 h-100">
                <div class="d-flex align-items-center mb-3">
                    <span class="badge bg-danger me-2"><i class="bi bi-fire"></i></span>
                    <h5 class="mb-0">Pečené na kameni</h5>
                </div>
                <p class="text-muted mb-0">Ručne ťahané cesto, 90 sekúnd v peci a máte neapolský zážitок.</p>
            </div>
        </div>
        <div class="col-md-4">
            <div class="feature-card p-4 h-100">
                <div class="d-flex align-items-center mb-3">
                    <span class="badge bg-success me-2"><i class="bi bi-basket2"></i></span>
                    <h5 class="mb-0">Sezónne suroviny</h5>
                </div>
                <p class="text-muted mb-0">Paradajky San Marzano, mozzarella fior di latte, čerstvá bazalka.</p>
            </div>
        </div>
        <div class="col-md-4">
            <div class="feature-card p-4 h-100">
                <div class="d-flex align-items-center mb-3">
                    <span class="badge bg-dark me-2"><i class="bi bi-truck"></i></span>
                    <h5 class="mb-0">Rýchle doručenie</h5>
                </div>
                <p class="text-muted mb-0">Prehľadný stav objednávky: príprava, hotové, doručujeme, doručené.</p>
            </div>
        </div>
    </div>

    <section class="mb-5">
        <div class="d-flex justify-content-between align-items-center mb-3">
            <h3 class="mb-0">Top 3 obľúbené pizze</h3>
            <a href="/menu" class="btn btn-outline-success btn-sm">Celé menu</a>
        </div>
        <div class="row g-4">
            <div class="col-md-4"
                 th:each="pizza,iter : ${pizzas}"
                 th:if="${iter.index} < 3">
                <a class="top-card-link" th:href="@{'/pizza/' + ${pizza.slug}}">
                    <div class="top-card h-100">
                        <div class="ratio ratio-16x9 bg-light">
                            <img th:if="${pizza.imageUrl}" th:src="${pizza.imageUrl}" class="object-fit-cover" th:alt="${pizza.name}">
                            <img th:if="${pizza.imageUrl == null}" src="https://placehold.co/600x400?text=La+Triesta" class="object-fit-cover" alt="Pizza">
                        </div>
                        <div class="p-3 d-flex flex-column h-100">
                            <div class="d-flex justify-content-between align-items-start">
                                <h5 class="mb-1" th:text="${pizza.name}"></h5>
                                <span class="badge bg-danger">Top</span>
                            </div>
                            <p class="text-muted small mb-2" th:text="${pizza.description}"></p>
                            <div class="mb-2">
                                <span th:each="tag : ${pizza.tags}" class="badge bg-success me-1" th:text="${tag.name}"></span>
                            </div>
                        </div>
                    </div>
                </a>
            </div>
            <div th:if="${pizzas == null or #lists.isEmpty(pizzas)}" class="col-12">
                <div class="alert alert-warning mb-0">Zatiaľ nemáme dáta o najobľúbenejších pizzách.</div>
            </div>
        </div>
    </section>
</main>

<div th:replace="fragments/footer :: siteFooter"></div>
</body>
</html>